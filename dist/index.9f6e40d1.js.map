{"mappings":"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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-89a32b88de6d26d2.js","node_modules/@parcel/runtime-js/lib/helpers/browser/esm-js-loader.js","node_modules/@parcel/runtime-js/lib/runtime-b14e23e77c76a31b.js","src/chatbox.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequirefe81\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequirefe81\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\n$parcel$export(module.exports, \"resolve\", () => $18c11f3350a906ea$export$f7ad0328861e2f03, (v) => $18c11f3350a906ea$export$f7ad0328861e2f03 = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nparcelRegister(\"2DXaS\", function(module, exports) {\n\nvar $Gr8vk = parcelRequire(\"Gr8vk\");\nmodule.exports = $Gr8vk(\"fovNY\").then(()=>parcelRequire(\"drorF\"));\n\n});\nparcelRegister(\"Gr8vk\", function(module, exports) {\n\"use strict\";\n\nfunction $07f8f9093a769793$var$load(id) {\n    // eslint-disable-next-line no-undef\n    return import((parcelRequire(\"27Lyk\")).resolve(id));\n}\nmodule.exports = $07f8f9093a769793$var$load;\n\n});\n\n\nvar $dd8e11a838d3072b$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"iN6FW\",\"index.9f6e40d1.js\",\"fovNY\",\"viz.3b477a46.js\"]'));\n\n// chatbox.js\nfunction $b5a3a2f801d3a34e$var$setupEventListeners() {\n    const messageInput = document.getElementById(\"input\");\n    messageInput.addEventListener(\"keyup\", (event)=>{\n        if (event.key === \"Enter\") $b5a3a2f801d3a34e$var$sendMessage();\n    });\n    const sendButton = document.getElementById(\"send\");\n    sendButton.onclick = $b5a3a2f801d3a34e$var$sendMessage;\n    const menuButton = document.getElementById(\"pop-up-button\");\n    menuButton.onclick = $b5a3a2f801d3a34e$var$openMenu;\n}\nfunction $b5a3a2f801d3a34e$var$openMenu() {\n    const menu = document.getElementById(\"pop-up\");\n    const menuButton = document.getElementById(\"pop-up-button\");\n    if (menu.classList.contains(\"pop-up-expanded\")) {\n        menu.classList.remove(\"pop-up-expanded\");\n        menuButton.classList.remove(\"rotate\");\n    } else {\n        menu.classList.add(\"pop-up-expanded\");\n        menuButton.classList.add(\"rotate\");\n    }\n}\n\nasync function $b5a3a2f801d3a34e$var$sendMessage() {\n    const messageInput = document.getElementById(\"input\");\n    const message = messageInput.value;\n    if (message.trim() !== \"\") {\n        const chatContainer = document.getElementById(\"chat\");\n        const userMessageContainer = document.createElement(\"div\");\n        userMessageContainer.classList.add(\"message-container\");\n        const chatbotMessageContainer = document.createElement(\"div\");\n        chatbotMessageContainer.classList.add(\"ca-message-container\");\n        // User message\n        const userMessage = document.createElement(\"p\");\n        userMessage.classList.add(\"user-message\");\n        userMessage.textContent = message;\n        const messengerID = document.createElement(\"p\");\n        messengerID.classList.add(\"messenger-id\");\n        messengerID.textContent = \"User:\";\n        userMessageContainer.appendChild(messengerID);\n        userMessageContainer.appendChild(userMessage);\n        // Ship it to frontend\n        chatContainer.appendChild(userMessageContainer);\n        messageInput.value = \"\";\n        // Bot message\n        //const botMessage = document.createElement(\"p\");\n        //botMessage.classList.add(\"received-message\");\n        //botMessage.textContent = \"I am a bot\";\n        //const botMessengerID = document.createElement(\"p\");\n        //botMessengerID.classList.add(\"chatbot-id\");\n        //botMessengerID.textContent = \"Chatbot:\";\n        //chatbotMessageContainer.appendChild(botMessengerID);\n        //chatbotMessageContainer.appendChild(botMessage);\n        //chatContainer.appendChild(chatbotMessageContainer);\n        //return\n        const url = \"http://localhost:5005/webhooks/rest/webhook\"; //'https://dashboards.create.aau.dk/webhooks/rest/webhook';\n        //const url = 'https://dashboards.create.aau.dk/webhooks/rest/webhook';\n        const data = {\n            message: message\n        };\n        try {\n            const response = await fetch(url, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(data)\n            });\n            if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);\n            const responseData = await response.json();\n            const responseDataArray = responseData.messages || [];\n            console.log(response);\n            console.log(responseData);\n            responseData.forEach((message)=>{\n                console.log(message.text);\n                const botMessage = document.createElement(\"div\");\n                botMessage.classList.add(\"received-message\");\n                botMessage.textContent = message.text;\n                chatContainer.appendChild(botMessage);\n            });\n        } catch (error) {\n            console.error(\"Error:\", error);\n        // Handle the error as needed, e.g., show an error message to the user\n        }\n        (parcelRequire(\"2DXaS\")).then(function(viz) {\n            viz.createLineChart();\n        });\n    }\n}\n$b5a3a2f801d3a34e$var$setupEventListeners();\nasync function $b5a3a2f801d3a34e$var$getURL() {\n    const url = \"https://dashboards.create.aau.dk/webhooks/rest/webhook/status\";\n    const response = await fetch(url);\n    if (response.status === 200) return \"http://localhost:5005\";\n    else return \"https://dashboards.create.aau.dk:5005\";\n}\n\n\n//# sourceMappingURL=index.9f6e40d1.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","let load = require('./helpers/browser/esm-js-loader');\nmodule.exports = (load(\"fovNY\")).then(() => parcelRequire('drorF'));","\"use strict\";\n\nfunction load(id) {\n  // eslint-disable-next-line no-undef\n  return __parcel__import__(require('../bundle-manifest').resolve(id));\n}\nmodule.exports = load;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"iN6FW\\\",\\\"index.9f6e40d1.js\\\",\\\"fovNY\\\",\\\"viz.3b477a46.js\\\"]\"));","// chatbox.js\r\n\r\nfunction setupEventListeners() {\r\n  const messageInput = document.getElementById(\"input\");\r\n  messageInput.addEventListener(\"keyup\", (event) => {\r\n    if (event.key === \"Enter\") {\r\n      sendMessage();\r\n    }\r\n  });\r\n  const sendButton = document.getElementById(\"send\");\r\n  sendButton.onclick = sendMessage;\r\n  const menuButton = document.getElementById(\"pop-up-button\");\r\n  menuButton.onclick = openMenu;\r\n};\r\n\r\nfunction openMenu() {\r\n  const menu = document.getElementById(\"pop-up\");\r\n  const menuButton = document.getElementById(\"pop-up-button\");\r\n  if (menu.classList.contains(\"pop-up-expanded\")) {\r\n    menu.classList.remove(\"pop-up-expanded\");\r\n    menuButton.classList.remove(\"rotate\");\r\n  } else {\r\n    menu.classList.add(\"pop-up-expanded\");\r\n    menuButton.classList.add(\"rotate\");\r\n  }\r\n}\r\n\r\nasync function sendMessage() {\r\n  const messageInput = document.getElementById(\"input\");\r\n\r\n  const message = messageInput.value;\r\n\r\n  if (message.trim() !== \"\") {\r\n    const chatContainer = document.getElementById(\"chat\");\r\n    const userMessageContainer = document.createElement(\"div\");\r\n    userMessageContainer.classList.add(\"message-container\");\r\n    const chatbotMessageContainer = document.createElement(\"div\");\r\n    chatbotMessageContainer.classList.add(\"ca-message-container\");\r\n\r\n    // User message\r\n    const userMessage = document.createElement(\"p\");\r\n    userMessage.classList.add(\"user-message\");\r\n    userMessage.textContent = message;\r\n\r\n    const messengerID = document.createElement(\"p\");\r\n    messengerID.classList.add(\"messenger-id\");\r\n    messengerID.textContent = \"User:\";\r\n\r\n    userMessageContainer.appendChild(messengerID);\r\n    userMessageContainer.appendChild(userMessage);\r\n\r\n    // Ship it to frontend\r\n    chatContainer.appendChild(userMessageContainer);\r\n\r\n    messageInput.value = \"\";\r\n\r\n    // Bot message\r\n    //const botMessage = document.createElement(\"p\");\r\n    //botMessage.classList.add(\"received-message\");\r\n    //botMessage.textContent = \"I am a bot\";\r\n\r\n    //const botMessengerID = document.createElement(\"p\");\r\n    //botMessengerID.classList.add(\"chatbot-id\");\r\n    //botMessengerID.textContent = \"Chatbot:\";\r\n\r\n    //chatbotMessageContainer.appendChild(botMessengerID);\r\n    //chatbotMessageContainer.appendChild(botMessage);\r\n\r\n    //chatContainer.appendChild(chatbotMessageContainer);\r\n    //return\r\n\r\n\r\n    const url = 'http://localhost:5005/webhooks/rest/webhook';//'https://dashboards.create.aau.dk/webhooks/rest/webhook';\r\n    //const url = 'https://dashboards.create.aau.dk/webhooks/rest/webhook';\r\n    const data = {\r\n      message: message\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      const responseData = await response.json();\r\n      const responseDataArray = responseData.messages || []\r\n      console.log(response)\r\n      console.log(responseData)\r\n\r\n      responseData.forEach(message => {\r\n        console.log(message.text);\r\n        const botMessage = document.createElement(\"div\");\r\n        botMessage.classList.add(\"received-message\");\r\n        botMessage.textContent = message.text;\r\n        chatContainer.appendChild(botMessage);\r\n      })\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      // Handle the error as needed, e.g., show an error message to the user\r\n    }\r\n    import(\"./viz\").then(function (viz) {\r\n      viz.createLineChart()\r\n    });\r\n  }\r\n}\r\n\r\nsetupEventListeners();\r\n\r\n\r\nasync function getURL() {\r\n  const url = 'https://dashboards.create.aau.dk/webhooks/rest/webhook/status';\r\n\r\n  const response = await fetch(url);\r\n  if (response.status === 200) {\r\n    return \"http://localhost:5005\"\r\n  } else {\r\n    return \"https://dashboards.create.aau.dk:5005\"\r\n  }\r\n}\r\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$b5a3a2f801d3a34e$var$sendMessage","messageInput","document","getElementById","message","value","trim","chatContainer","userMessageContainer","createElement","classList","add","chatbotMessageContainer","userMessage","textContent","messengerID","appendChild","response","fetch","method","headers","body","JSON","stringify","ok","status","responseData","json","messages","console","log","forEach","text","botMessage","error","then","viz","createLineChart","$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","resolved","URL","toString","$Gr8vk","resolve","url","parse","addEventListener","event","key","sendButton","onclick","menuButton","menu","contains","remove"],"version":3,"file":"index.9f6e40d1.js.map"}